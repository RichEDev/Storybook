(function(n,t,i,r,u){function f(){n.registerNamespace("SEL.DocMerge");n.DocMerge={DomIDs:{Config:{txtConfigLabel:null,tabMaintainConfig:null,hdnCurrentConfigId:null,chkIsDefaultDocumentGroupingConfig:null,hdnDefaultDocumentGroupingId:null,ddlReportSource:null,hdnReportSortingName:null,divSortingFields:null,txtConfigDescription:null},Filters:{FilterModalObj:null,FilterModal:{Heading:null,FilterDropDown:null,Criteria1:null,Criteria2:null,Criteria1DropDown:null,CriteriaListDropDown:null,FilterRequiredValidator:null,RequiredValidator1:null,RequiredValidator2:null,DataTypeValidator1:null,DataTypeValidator2:null,CompareValidator:null,TimeValidator1:null,TimeValidator2:null,DateAndTimeCompareValidator:null,TimeRangeCompareValidator:null,CriteriaRow1:null,CriteriaRow2:null,CriteriaListRow:null,Criteria1ImageCalc:null,Criteria2ImageCalc:null,Criteria1Time:null,Criteria2Time:null,List:null,Criteria1Spacer:null,Criteria2Spacer:null,Criteria1Label:null,Criteria2Label:null,Criteria1ValidatorSpan:null,Criteria2ValidatorSpan:null,IntegerValidator1:null,IntegerValidator2:null,Runtime:null,RuntimeRow:null}}},Ids:{FilterDataType:null,FilterConditionType:null,List:null,Index:0,ReportColumnIndex:0,FilterIndex:0,CurrentId:null,CurrentDocumentId:null,EditMode:null,GroupingConfigurationId:null,PopupMode:null,DuplicateLabelExists:!1,CurrentConfig:null,StatusTimer:null,currentMergeRequestNumber:null},SortOrdering:{Ascending:1,Descending:2},tmpPanelID:null,tmpModalID:null,DisplayMasterLoader:function(n){n?$("#ajaxLoaderMaster").css("display","block"):$("#ajaxLoaderMaster").css("display","none");return},DisplayFormLoaders:function(n){n?$("#ajaxLoaderReport").css("display","inline"):$("#ajaxLoaderReport").css("display","none");return},DisplayConfigLoaders:function(n){n?$("#ajaxLoaderConfig").css("display","inline"):$("#ajaxLoaderConfig").css("display","none");return},LaunchModal:function(r,u){n.DocMerge.DisplayFormLoaders(!0);t(pnlRepSrc).style.display="none";t(r).style.display="";switch(r){case pnlRepSrc:if(currentProjectId===0){n.DocMerge.SaveProject(u,r);return}Spend_Management.svcDocumentMerge.GetReportsCategories(n.DocMerge.GetReportCategoriesComplete,n.DocMerge.GetReportCategoriesError)}i(u).show();$(document).keydown(function(t){t.keyCode===27&&n.Common.HideModal(u)});return},CancelModal:function(){i(repSrcModal).hide();return},SaveProject:function(i,r){var u=n.DocMerge.DomIDs.Config;if(n.Common.ValidateForm("project")===!1){n.DocMerge.SetActiveTab(0);return}n.DocMerge.tmpModalID=i;n.DocMerge.tmpPanelID=r;Spend_Management.svcDocumentMerge.SaveProject(currentProjectId,t(txtProjectName).value,t(txtProjectDescription).value,t(u.hdnDefaultDocumentGroupingId).value,$(".blankText").val(),n.DocMerge.OnSaveConfigurationFromReportSuccess,n.DocMerge.OnSaveConfigurationFromReportError)},OnSaveConfigurationFromReportSuccess:function(t){t===-1?n.MasterPopup.ShowMasterPopup("A document configuration of this name already exists.","Page Validation Failed"):(currentProjectId=t,PageMethods.UpdateMergeProjectId(t),n.DocMerge.tmpModalID!=undefined&&(Spend_Management.svcDocumentMerge.GetReportsCategories(n.DocMerge.GetReportCategoriesComplete,n.DocMerge.GetReportCategoriesError),n.DocMerge.LaunchModal(n.DocMerge.tmpPanelID,n.DocMerge.tmpModalID)));return},OnSaveConfigurationFromReportError:function(){n.DocMerge.DisplayFormLoaders(!1);n.MasterPopup.ShowMasterPopup("An error occurred saving the configuration. Please contact your administrator if the problem persists.","Save Configuration Error");return},CheckForZeroReportSources:function(){return},PopulateDDList:function(n,t,i){var r,f=0,u;if(n.options.length=0,r=document.createElement("option"),r.value="0",r.text=i?"[New]":"[None]",n.options[f]=r,f++,t!==null)for(u=0;u<t.length;u++)r=document.createElement("option"),r.value=t[u].Value,r.text=t[u].Text,r.selected=t[u].Selected,n.options[f]=r,f++;return},GetDDLSelectedText:function(n){var t=n.options[n.selectedIndex].text;return t.replace(" - (Sorted)","")},GetDDLSelectedValue:function(n){return n.options[n.selectedIndex].value},SetDDLSelectedIndex:function(n,t){for(var i=0;i<n.options.length;i++)if(n.options[i].value===t){n.options[i].selected=!0;break}},ShuffleLinks:function(n){var i=t("lnkAddReportSource");i.style.display="none";switch(n){case 0:i.style.display="block"}return},SetActiveTab:function(n){i(tabContainer).set_activeTabIndex(n);return},TabClick:function(i){var r=n.DocMerge.DomIDs.Config;switch(i.get_activeTabIndex()){case 0:Spend_Management.svcDocumentMerge.ProcessGridRequest(currentProjectId,"reports",t(r.hdnDefaultDocumentGroupingId).value,n.DocMerge.OnGetReportSourceGridComplete,n.DocMerge.OnGetReportSourceGridError);break;case 1:if(currentProjectId===0){n.DocMerge.SaveProject();break}else Spend_Management.svcDocumentMerge.ProcessGridRequest(currentProjectId,"documentconfigs",t(r.hdnDefaultDocumentGroupingId).value,n.DocMerge.OnGetProjectDocConfigsGridComplete,n.DocMerge.OnGetProjectDocConfigsGridError)}return},tabMaintainConfigClick:function(t){var e=t.get_activeTabIndex(),i,r,u,f;switch(e){case 1:n.DocMerge.SetDropHeights("Grouping");break;case 2:i=[];i=$.data(document,"sortingFields")===undefined?n.DocMerge.GetSortingColumnsFromUI():$.data(document,"sortingFields");r=[];for(u in i)i.hasOwnProperty(u)&&(f=i[u],r.push(f.Name));n.DocMerge.LoadSortingColumns(n.DocMerge.GetSelectedGroupFields(),r,i);n.DocMerge.SetDropHeights("Sorting");break;case 3:n.DocMerge.SetDropHeights("Filtering")}},OnGetReportSourceGridComplete:function(i){t(divReportSources).innerHTML=i[2];n.Grid.updateGrid(i[1]);n.DocMerge.DisplayMasterLoader(!1);n.DocMerge.CheckForZeroReportSources(i[3]);return},OnGetReportSourceGridError:function(){n.DocMerge.DisplayMasterLoader(!1);n.MasterPopup.ShowMasterPopup("An error occurred retrieving the report selections: Please contact your administrator if the problem persists.","Report Sources Error");return},OnGetProjectDocConfigsGridComplete:function(t){$(".docGroupingConfigs").html(t[2]);n.Grid.updateGrid(t[1]);n.DocMerge.DisplayMasterLoader(!1);return},OnGetProjectDocConfigsGridError:function(){n.DocMerge.DisplayMasterLoader(!1);n.MasterPopup.ShowMasterPopup("An error occurred retrieving the document grouping configurations: Please contact your administrator if the problem persists.","Report Sources Error");return},GetReportCategoriesComplete:function(i){n.DocMerge.PopulateDDList(t(ddlReportCategory),i,!0);var r=t(ddlReport);r.selectedIndex=0;r.disabled=!0;n.DocMerge.DisplayFormLoaders(!1);return},GetReportCategoriesError:function(){n.DocMerge.DisplayFormLoaders(!1);n.MasterPopup.ShowMasterPopup("An error occurred retrieving report categories. Please contact your administrator if the problem persists.","Retrieve Field Report Categories Error");return},ReportCategoryIndexChanged:function(){var r=t(ddlReportCategory),i=t(ddlReport);i.disabled=!0;u(ddlReportCategory)===""?i.options[0].selected=!0:r.selectedIndex>0&&(n.DocMerge.DisplayFormLoaders(!0),Spend_Management.svcDocumentMerge.GetAvailableReports(currentProjectId,u(ddlReportCategory),n.DocMerge.GetReportSourcesComplete,n.DocMerge.GetReportSourcesError));return},GetReportSourcesComplete:function(i){var r=t(ddlReport);n.DocMerge.PopulateDDList(r,i,!0);r.disabled=!1;n.DocMerge.DisplayFormLoaders(!1);return},GetReportSourcesError:function(){n.DocMerge.DisplayFormLoaders(!1);n.MasterPopup.ShowMasterPopup("An error occurred retrieving the report sources. Please contact your administrator if the problem persists.","Report Sources Error");return},AddReportSource:function(){if(n.Common.ValidateForm("vgReport")===!1)return!1;n.DocMerge.DisplayFormLoaders(!0);Spend_Management.svcDocumentMerge.AddReportSource(currentProjectId,u(ddlReport),n.DocMerge.AddReportSourceSuccess,n.DocMerge.AddReportSourceError);return},AddReportSourceSuccess:function(r){n.DocMerge.DisplayFormLoaders(!1);var u=n.DocMerge.DomIDs.Config;r[0]!==0?(i(repSrcModal).hide(),n.DocMerge.DisplayMasterLoader(!0),Spend_Management.svcDocumentMerge.ProcessGridRequest(currentProjectId,"reports",t(u.hdnDefaultDocumentGroupingId).value,n.DocMerge.OnGetReportSourceGridComplete,n.DocMerge.OnGetReportSourceGridError)):n.MasterPopup.ShowMasterPopup("The report source has not been added. Please ensure you have not already added it.","Save Report Source Error");return},AddReportSourceError:function(){n.DocMerge.DisplayMasterLoader(!1);n.MasterPopup.ShowMasterPopup("An error occurred retrieving the report sources. Please contact your administrator if the problem persists.","Report Sources Error");return},ChangeGroupingReportStatus:function(t){var i="{ 'mergeSourceId': '"+t+"' }";n.DocMerge.Service(window.appPath+"/shared/webServices/SvcDocumentMerge.asmx/","SwapMergeSourceGroupingStatus",i,n.DocMerge.ChangeGroupingReportStatusSuccess,n.Common.WebService.ErrorHandler)},ChangeGroupingReportStatusSuccess:function(){n.Grid.refreshGrid("mergesources",n.Grid.getCurrentPageNum("mergesources"))},DeleteReportSourceSuccess:function(){var i=n.DocMerge.DomIDs.Config;n.DocMerge.DisplayMasterLoader(!0);Spend_Management.svcDocumentMerge.ProcessGridRequest(currentProjectId,"reports",t(i.hdnDefaultDocumentGroupingId).value,n.DocMerge.OnGetReportSourceGridComplete,n.DocMerge.OnGetReportSourceGridError);return},DeleteReportSource:function(t){confirm("Deleting a report source will also remove all related mappings.\nClick OK to proceed.")&&Spend_Management.svcDocumentMerge.DeleteDocumentMergeSource(t,n.DocMerge.DeleteReportSourceSuccess,n.DocMerge.ErrorReportSourceProcess);return},ErrorReportSourceProcess:function(){n.DocMerge.DisplayFormLoaders(!1);n.MasterPopup.ShowMasterPopup("An error occurred retrieving report sources. Please contact your administrator if the problem persists.","Report Sources Error");return},LaunchGroupingModal:function(r){var u,e,o,f;n.DocMerge.DisplayConfigLoaders(!0);u=n.DocMerge.DomIDs.Config;n.DocMerge.Ids.GroupingConfigurationId=r;e="New Document Grouping Configuration";o=1+n.Common.GetHighestZIndexInt();$(".documentGroupingConfigurationDiv").dialog({title:e,zIndex:o,autoOpen:!1,modal:!0,width:910,height:520,closeOnEscape:!1,draggable:!1,resizable:!1});f=$(".documentGroupingConfigurationDiv");f.dialog("option","dialogClass","modalpanel");f.dialog("option","dialogClass","formpanel");f.on("keydown",function(i){if(i.keyCode===27){if(i.preventDefault(),t("ctl00_contentmain_tabMaintainConfig_filteringTab_pnlFilter").style.display===""){$.filterModal.Filters.FilterModal.Cancel();event.preventDefault();event.stopPropagation();return}n.DocMerge.ResetGroupingModalControls();$(f).dialog("close");return}});$(".ui-dialog-titlebar").hide();$(".documentGroupingConfigurationTitle").text(e);$(".ui-dialog>.ui-dialog-content>.ajax__tab_container>.ajax__tab_body").css("height","370px");f.dialog("open");i(u.tabMaintainConfig).set_activeTabIndex(0);n.DocMerge.LoadCommonFields(currentProjectId,0);n.DocMerge.GetReportSources(currentProjectId,r);t(u.hdnCurrentConfigId).value=r;t(u.hdnReportSortingName).value="";n.DocMerge.LoadGroupingConfiguration(currentProjectId,r);i(u.tabMaintainConfig).get_tabs()[2].set_enabled(!1);i(u.tabMaintainConfig).get_tabs()[3].set_enabled(!1);r>0?(i(u.tabMaintainConfig).get_tabs()[0].set_enabled(!1),i(u.tabMaintainConfig).get_tabs()[1].set_enabled(!1),i(u.tabMaintainConfig).get_tabs()[4].set_enabled(!1)):n.DocMerge.DisplayConfigLoaders(!1)},DeleteGroupingConfiguration:function(t){if(confirm("Are you sure you wish to delete the selected grouping configuration?")){var i="{ 'projectId': '"+currentProjectId+"' , ";i+=" 'groupingConfigurationId': '"+t+"' }";this.Service(window.appPath+"/shared/webServices/SvcDocumentMerge.asmx/","DeleteGroupingConfiguration",i,n.DocMerge.DeleteConfigurationSuccess,n.Common.WebService.ErrorHandler)}return},DeleteConfigurationSuccess:function(i){if(i.d===-1&&n.MasterPopup.ShowMasterPopup("An error has occured when deleting the grouping configuration"),i.d===0){var r=n.DocMerge.DomIDs.Config;Spend_Management.svcDocumentMerge.ProcessGridRequest(currentProjectId,"documentconfigs",t(r.hdnDefaultDocumentGroupingId).value,n.DocMerge.OnGetProjectDocConfigsGridComplete,n.DocMerge.OnGetReportSourceGridError)}},LoadCommonFields:function(t,i){if(t>0&&i>0)n.DocMerge.LoadGroupingConfiguration(t,i);else{var r="{ 'projectId': '"+t+"' }";this.Service(window.appPath+"/shared/webServices/SvcDocumentMerge.asmx/","GetCommonFieldsForGroupingSources",r,n.DocMerge.GetCommonFieldsForGroupingSourcesSuccess,n.Common.WebService.ErrorHandler)}},GetCommonFieldsForGroupingSourcesSuccess:function(t){$.data(document,"grouping",t.d.GroupingColumnsList);var i=n.DocMerge.DivReportSorting();i.css("display","none")},GetSelectedGroupFields:function(){var n=[];return $("#torchGroupingColumns li").not("[class='groupingHeader groupingHeaderIncluded']").not("[class='groupingHeader groupingHeaderExcluded']").not("[class='noColumns']").each(function(){var t=$(this).text().replace("\r\n","");n.push(t)}),n},SaveConfiguration:function(i){var u=n.DocMerge.DomIDs.Config,r;if(i||validateform("vgConfigLabel")!==!1)return r=n.DocMerge.Ids.GroupingConfigurationId,r=="0"&&(r=0),i===undefined&&(i=!1),n.DocMerge.SaveConfigurationToDB(currentProjectId,r,t(u.txtConfigLabel).value,t(u.txtConfigDescription).value,i)},SaveConfigurationToDB:function(i,r,u,f,e){var o=n.DocMerge.Ids.CurrentConfig,p,h,c,s,l,a,v,w;if(i>0){o.MergeProjectId=i;o.GroupingConfigurationId=r;o.ConfigurationLabel=u;o.ConfigurationDescription=f;o.GroupingColumnsList=[];$("#torchGroupingColumns li").not("[class='groupingHeader groupingHeaderIncluded']").not("[class='groupingHeader groupingHeaderExcluded']").not("[class='noColumns']").each(function(){var n=$(this).text().replace("\r\n","");o.GroupingColumnsList.push(n)});o.SortingColumnsList=n.DocMerge.GetSortingColumnsFromUI();o.FilteringColumns=n.DocMerge.GetFiltersFromUI();o.ReportSortingConfigurations=[];var b=n.DocMerge.DomIDs.Config,k=t(b.ddlReportSource),y=n.DocMerge.GetDDLSelectedText(k);$("#divSortedColumnFields").css("display","block");y!="[None]"&&n.DocMerge.SaveReportColumsToDOM(y);p=n.DocMerge.DivReportSorting();h=$(p).data();for(c in h){s=h[c];l=[];for(a in s)s.hasOwnProperty(a)&&(v=s[a],l.push({ColumnName:v.ColName,SortingOrder:v.SortingOrder}));w={ReportName:c,TorchReportSortingColumns:l};o.ReportSortingConfigurations.push(w)}if(e)return o;n.DocMerge.SaveDocumentConfiguration(o)}return!1},GetFiltersFromUI:function(){var n=[],t=0;return $("#torchFilteringColumns li").not("[class='groupingHeader groupingHeaderIncluded']").not("[class='groupingHeader groupingHeaderExcluded']").not("[class='noColumns']").each(function(){var r=$(this).text().replace("\r\n",""),u=$(this)[0].id,i=$.data(document,u);i.ColumnName=r;n.push(i);t++}),n},SaveDocumentConfiguration:function(i){var r,u=function(i){var f,u;if(n.DocMerge.Ids.DuplicateLabelExists=!1,i===-1)return n.MasterPopup.ShowMasterPopup("This Label already exists. Please provide a unique Label name"),n.DocMerge.Ids.DuplicateLabelExists=!0,!1;r=n.DocMerge.DomIDs.Config;n.DocMerge.Ids.GroupingConfigurationId=i.d;f=t(r.chkIsDefaultDocumentGroupingConfig);f.checked?t(r.hdnDefaultDocumentGroupingId).value=i:t(r.hdnDefaultDocumentGroupingId).value==i&&(t(r.hdnDefaultDocumentGroupingId).value=0);n.DocMerge.Ids.DuplicateLabelExists=!1;n.DocMerge.ResetGroupingModalControls();r=n.DocMerge.DomIDs.Config;u=$(".documentGroupingConfigurationDiv");u.dialog("close");n.DocMerge.Ids.PopupMode!==null?(n.DocMerge.ResetGroupingModalControls(),u=$(".documentGroupingConfigurationDiv"),u.dialog("close"),Spend_Management.svcDocumentMerge.GetDocumentGroupingConfigurationsGrid(n.DocMerge.Ids.CurrentId,n.DocMerge.Ids.CurrentDocumentId,ceID,entityId,"true",n.DocMerge.OnGetProjectDocConfigsGridComplete,n.DocMerge.OnGetProjectDocConfigsGridError)):Spend_Management.svcDocumentMerge.ProcessGridRequest(currentProjectId,"documentconfigs",t(r.hdnDefaultDocumentGroupingId).value,n.DocMerge.OnGetProjectDocConfigsGridComplete,n.DocMerge.OnGetProjectDocConfigsGridError)};r=n.DocMerge.DomIDs.Config;Spend_Management.svcDocumentMerge.SaveConfiguration(currentProjectId,t(txtProjectName).value,t(txtProjectDescription).value,t(r.hdnDefaultDocumentGroupingId).value,i,$(".blankText").val(),u,n.DocMerge.OnSaveConfigurationFromReportError)},SaveReportColumsToDOM:function(t){var i=n.DocMerge.GetReportSortingColumnsFromUI(),r=n.DocMerge.DivReportSorting();$(r).data(t,i)},LoadGroupingConfiguration:function(t,i){$("input[value='merge']").parent().hide();var r="{ 'projectId': '"+t+"' , ";r+=" 'groupingConfigurationId': '"+i+"' }";this.Service(window.appPath+"/shared/webServices/SvcDocumentMerge.asmx/","GetGroupingConfiguration",r,n.DocMerge.LoadGroupingConfigurationSuccess,n.Common.WebService.ErrorHandler)},LoadGroupingConfigurationSuccess:function(r){var u,d,g,s,l,nt,h,a,v,y,p;if(r.d!==null&&r.d!==undefined){u=r.d;n.DocMerge.Ids.CurrentConfig=u;var c=[],w=[],o=[],b=[],k=[],f=n.DocMerge.DomIDs.Config,e;if(u.GroupingConfigurationId!==-1&&(t(f.txtConfigLabel).value=u.ConfigurationLabel,t(f.txtConfigDescription).value=u.ConfigurationDescription,u.GroupingConfigurationId!==0,t(f.hdnCurrentConfigId).value=u.GroupingConfigurationId,d="Document Grouping Configuration: "+u.ConfigurationLabel,$(".documentGroupingConfigurationTitle").text(d),g=t(f.chkIsDefaultDocumentGroupingConfig),g.checked=$("#"+f.hdnDefaultDocumentGroupingId).val()==u.GroupingConfigurationId?!0:!1,c=u.GroupingColumnsList,w=u.SortingColumnsList,o=u.FilteringColumns,b=u.ReportSortingConfigurations,e=undefined,e=$.data(document,"grouping"),e!==undefined))for(s=0;s<e.length;s++)l=e[s],n.DocMerge.isIncludedCol(l,c)||k.push(l);nt=$.data(document);for(key in nt)key.search("edit")!=-1&&$.removeData(document,key);h=[];a=0;n.DocMerge.Ids.Index=0;n.DocMerge.Ids.FilterIndex=0;for(v in o)o.hasOwnProperty(v)&&(y=o[v],p="edit"+n.DocMerge.Ids.FilterIndex,n.DocMerge.Ids.FilterIndex++,$.data(document,p,y),h.push({ColName:y.ColumnName,ColId:p,Sequence:a}),a++);$.data(document,"filterFields",h);n.DocMerge.RenderControls(h,e,"Filtering");n.DocMerge.RenderControls(c,k,"Grouping");n.DocMerge.ProcessReportSortingConfigs(b);n.DocMerge.ProcessColumnSorting(w);i(f.tabMaintainConfig).get_tabs()[0].set_enabled(!0);i(f.tabMaintainConfig).get_tabs()[1].set_enabled(!0);i(f.tabMaintainConfig).get_tabs()[4].set_enabled(!0);i(f.tabMaintainConfig).set_activeTabIndex(0)}n.DocMerge.DisplayConfigLoaders(!1)},ProcessColumnSorting:function(n){var r=[],u=0,t,i;for(t in n)n.hasOwnProperty(t)&&(i=n[t],r.push({Name:i.Name,SortingOrder:i.DocumentSortType,Sequence:u}),u++);$.data(document,"sortingFields",r)},ProcessReportSortingConfigs:function(t){var e,i,r,f,c;for(i in t)if(t.hasOwnProperty(i)){r=t[i];e=r.ReportName;var u=r.TorchReportSortingColumns,o=[],s=0;n.DocMerge.Ids.ReportColumnIndex=0;for(f in u)if(u.hasOwnProperty(f)){var h=u[f],l="reportSort"+n.DocMerge.Ids.ReportColumnIndex,a=h.SortingOrder;n.DocMerge.Ids.ReportColumnIndex++;o.push({ColName:h.ColumnName,ColId:l,SortingOrder:a,Sequence:s});s++}c=n.DocMerge.DivReportSorting();$(c).data(e,o)}},LoadSortingColumns:function(t,i,r){var l=$("#ajaxLoaderConfig").css("display")==="none",f,o,e,u,h,c,s;if(l){for(f=[],o=[],n.DocMerge.Ids.Index=0,e=0;e<t.length;e++)u=t[e],n.DocMerge.isIncludedCol(u,i)?(h="sort"+n.DocMerge.Ids.Index,n.DocMerge.Ids.Index++,c=n.DocMerge.GetSortingColumnDetails(r,"Name",u),s=c.split("**"),f.push({Name:u,ColId:h,SortingOrder:s[0],Sequence:s[1]})):o.push(u);$.removeData(document,"sortingFields");f.sort(n.DocMerge.DynamicSort("Sequence"));n.DocMerge.RenderControls(f,o,"Sorting")}},GetSortingColumnDetails:function(n,t,i){for(var r=0;r<n.length;r++)if(n[r][t]==i)return n[r].SortingOrder+"**"+n[r].Sequence;return null},isIncludedFilter:function(n,t){var r=[],i,u;for(i in t)t.hasOwnProperty(i)&&(u=t[i].split("**"),u[0]===n&&r.push(t[i]));return r},isIncludedCol:function(n,t){for(var i in t)if(t.hasOwnProperty(i)){if(t[i]===n)return!0}else return!1},isIncludedReportCol:function(n,t){for(var i in t)if(t.hasOwnProperty(i)){if(t[i].ColName===n)return!0}else return!1},DynamicSort:function(n){var t=1;return n[0]==="-"&&(t=-1,n=n.substr(1)),function(i,r){var u=i[n]<r[n]?-1:i[n]>r[n]?1:0;return u*t}},CancelGroupingConfiguration:function(){n.DocMerge.ResetGroupingModalControls();var t=$(".documentGroupingConfigurationDiv");t.dialog("close")},DivSorting:function(){return $("#divSortedColumnFields")},DivReportSorting:function(){return $("#divSortedColumnFields")},GetCommonCols:function(t){var i="{ 'projectId': '"+t+"' }";this.Service(window.appPath+"/shared/webServices/SvcDocumentMerge.asmx/","GetCommonFieldsForGroupingSources",i,n.DocMerge.GetCommonColsSuccess,n.Common.WebService.ErrorHandler,!0)},GetSortingColumnsFromUI:function(){var t=[],i=0;return $("#torchSortingColumns li").not("[class='groupingHeader groupingHeaderIncluded']").not("[class='groupingHeader groupingHeaderExcluded']").not("[class='noColumns']").each(function(){var u=$(this).text().replace("\r\n",""),r=n.DocMerge.SortOrdering.Ascending;$(this).find("img").attr("class")==="editsort down"&&(r=n.DocMerge.SortOrdering.Descending);t.push({Name:u,DocumentSortType:r});i++}),t},GetReportSortingColumnsFromUI:function(){var t=[],i=0;return $("#torchSortedColumnColumns li").not("[class='groupingHeader groupingHeaderIncluded']").not("[class='groupingHeader groupingHeaderExcluded']").not("[class='noColumns']").each(function(){var u=$(this).text().replace("\r\n",""),f=$(this)[0].id,r=n.DocMerge.SortOrdering.Ascending;$(this).find("img").attr("class")==="editsort down"&&(r=n.DocMerge.SortOrdering.Descending);t.push({ColName:u,ColId:f,SortingOrder:r,Sequence:i});i++}),t},GetCommonColsSuccess:function(n){var t;t=undefined;t=n.d.GroupingColumnsList;$.data(document,"grouping",t)},ResetGroupingModalControls:function(){var i=n.DocMerge.DomIDs.Config,r;i.chkIsDefaultDocumentGroupingConfig!==null&&(t(i.chkIsDefaultDocumentGroupingConfig).checked=!1);t(i.txtConfigLabel).value="";t(i.txtConfigLabel).disabled=!1;r=n.DocMerge.DivReportSorting();$(r).removeData()},RenderControls:function(t,r,u){var f="<div id='torchContainer'><ul id='torch"+u+"Bin' class='torch"+u+"Connectable'>",h=u.replace(/([A-Z])/g," $1"),c,v,y,p,e,w,l,a;if(f+="<li class='groupingHeader groupingHeaderExcluded'>Excluded "+h+"<\/li>",f+="<li class='noColumns'> No columns have been excluded from the document "+h+" <\/li>",r!==undefined)for(c=0;c<r.length;c++)v=r[c],v.substring(0,2)!=="ID"&&(f+="<li class='ui-state-default'>",f+='<img title="Click here to drag this field" id="draghandle_1622" style="width: 19px; height: 16px; float:left;" alt="" src="/static/icons/Custom/HandleBar.png">',f+=v,f+="<\/li>");if(f+="<\/ul>",f+="<ul id='groupingHelp'>",f+="<span class='switcherIconLayout'>",f+="<img id='img"+u+"Help' Class='viewSwitcherHelp' ImageUrl='AlternateText='Show View Switcher Information' src='/static/icons/24/plain/information.png'style='width: 19px; height: 16px; float:left;'/>",f+="<\/span>",f+="<\/ul>",f+="<ul id='torch"+u+"Columns' class='torch"+u+"Connectable'>",f+="<li class='groupingHeader groupingHeaderIncluded'>Included "+h+"<\/li>",t!=undefined)if(u==="Filtering")for(e in t)t.hasOwnProperty(e)&&(y=t[e],p=y.ColId,f+="<li class='ui-state-default' id='",f+=p,f+="'",f+='<span><img class="editfilter" title="Edit filter information" id="edit_img" src="/shared/images/icons/16/Plain/edit.png" onclick="$.filterModal.Filters.FilterModal.GetFieldID(\''+p+'\', true)"  style="width: 19px; height: 16px; float:left;"><\/span>',f+=y.ColName,f+="<\/li>");else if(u==="Sorting"||u==="SortedColumn"){for(e in t)if(t.hasOwnProperty(e)){var o=t[e],b=o.ColId,k=o.SortingOrder,d="arrow_up_blue.png",g="up";(k==="desc"||k===n.DocMerge.SortOrdering.Descending)&&(d="arrow_down_blue.png",g="down");f+="<li class='ui-state-default' id='";f+=b;f+="'";f+='<span><img class="editsort ';f+=g;f+='" title="Ascending / Descending" id="edit_Icon" src="/shared/images/icons/16/Plain/';f+=d;f+='" onclick="SEL.DocMerge.SwitchSort(\''+b+'\')" style="width: 19px; height: 16px; float:left;"><\/span>';f+=o.ColName===undefined?o.Name:o.ColName;f+="<\/li>"}}else{for(w=!1,l=0;l<t.length;l++)a=t[l],a.substring(0,2)!="ID"&&a.length>0&&(f+="<li class='ui-state-default'>",f+='<img title="Click here to drag this field" id="draghandle_1622" style="width: 19px; height: 16px; float:left;" alt="" src="/static/icons/Custom/HandleBar.png">'),f+=a,f+="<\/li>",w=!0;w&&(i(n.DocMerge.DomIDs.Config.tabMaintainConfig).get_tabs()[2].set_enabled(!0),i(n.DocMerge.DomIDs.Config.tabMaintainConfig).get_tabs()[3].set_enabled(!0))}f+="<li class='noColumns'> No columns have been included in the document "+h+" <\/li>";f+="<\/ul>";f+="<\/div>";$("#div"+u+"Fields").html(f);var s,nt=function(t,r){var f=r.sender.attr("id")==="torchSortedColumnColumns",u,e=r.sender.attr("id")==="torchGroupingColumns";$("li.noColumns",this).hide();$("li:not(.noColumns)",r.sender).length===1?($("li.noColumns",r.sender).show(),$("input[value='merge']").parent().hide(),f&&(u=$("#"+n.DocMerge.DomIDs.Config.ddlReportSource+" :selected").text(),$("#"+n.DocMerge.DomIDs.Config.ddlReportSource+" :selected").text(u.replace(" - (Sorted)",""))),e&&(i(n.DocMerge.DomIDs.Config.tabMaintainConfig).get_tabs()[2].set_enabled(!1),i(n.DocMerge.DomIDs.Config.tabMaintainConfig).get_tabs()[3].set_enabled(!1))):$("li.noColumns",r.sender).hide();r.item[0].firstChild.className==="editfilter"&&r.item.remove()},tt=function(t,r){$("li.noColumns",this).hide();$("li:not(.noColumns)",r.sender).length===1?$("li.noColumns",r.sender).show():($("li.noColumns",r.sender).hide(),$("input[value='merge']").parent().show(),i(n.DocMerge.DomIDs.Config.tabMaintainConfig).get_tabs()[2].set_enabled(!0),i(n.DocMerge.DomIDs.Config.tabMaintainConfig).get_tabs()[3].set_enabled(!0))},it=function(t,i){$("li.noColumns",this).hide();$("li:not(.noColumns)",i.sender).length===0?$("li.noColumns",i.sender).show():$("li.noColumns",i.sender).hide();i.item.clone().appendTo("#torch"+u+"Bin").fadeIn("slow");var r="edit"+n.DocMerge.Ids.FilterIndex;n.DocMerge.Ids.FilterIndex++;i.item[0].innerHTML='<img class="editfilter" title="Edit filter information" id="edit_Icon" src="/shared/images/icons/16/Plain/edit.png" onclick="$.filterModal.Filters.FilterModal.GetFieldID(\''+r+'\', true)" style="width: 19px; height: 16px; float:left;">'+i.item.text().replace("\r\n","");i.item[0].id=r;$.filterModal.Filters.FilterModal.GetFieldID(r,!0)},rt=function(t,i){$("li.noColumns",this).hide();$("li:not(.noColumns)",i.sender).length===1?$("li.noColumns",i.sender).show():$("li.noColumns",i.sender).hide();var r="sort"+n.DocMerge.Ids.Index;n.DocMerge.Ids.Index++;i.item[0].innerHTML='<img class="editsort up" title="Ascending / Descending" id="edit_Icon" src="/shared/images/icons/16/Plain/arrow_up_blue.png" onclick="SEL.DocMerge.SwitchSort(\''+r+'\')" style="width: 19px; height: 16px; float:left;">'+i.item.text().replace("\r\n","");i.item[0].id=r},ut=function(t,i){var u,r;$("li.noColumns",this).hide();$("li:not(.noColumns)",i.sender).length===1?$("li.noColumns",i.sender).show():($("li.noColumns",i.sender).hide(),u=$("#"+n.DocMerge.DomIDs.Config.ddlReportSource+" :selected").text().replace(" - (Sorted)",""),$("#"+n.DocMerge.DomIDs.Config.ddlReportSource+" :selected").text(u+" - (Sorted)"));r="reportSort"+n.DocMerge.Ids.ReportColumnIndex;n.DocMerge.Ids.ReportColumnIndex++;i.item[0].innerHTML='<img class="editsort up" title="Ascending / Descending" id="edit_Icon" src="/shared/images/icons/16/Plain/arrow_up_blue.png" onclick="SEL.DocMerge.SwitchSort(\''+r+'\')" style="width: 19px; height: 16px; float:left;">'+i.item.text().replace("\r\n","");i.item[0].id=r};switch(u){case"Filtering":s=it;break;case"Sorting":s=rt;break;case"SortedColumn":s=ut;break;case"Grouping":s=tt}$("#torch"+u+"Columns").sortable({dropOnEmpty:!0,scroll:!0,revert:!0,connectWith:".torch"+u+"Connectable",cursor:"move",helper:"clone",placeholder:"highlight",items:"li:gt(0):not(.noColumns)",create:function(){if($("li:not(.noColumns)",this).length===1)return $("li.noColumns",this).show();$("input[value='merge']").parent().show()},receive:s,stop:n.DocMerge.RemoveUpDown,update:n.DocMerge.UpdateDropHeights});$("#torch"+u+"Bin").sortable({dropOnEmpty:!0,scroll:!0,revert:!0,connectWith:".torch"+u+"Connectable",cursor:"move",helper:"clone",placeholder:"highlight",items:"li:gt(0):not(.noColumns)",create:function(){if($("li:not(.noColumns)",this).length===1)return $("li.noColumns",this).show()},receive:nt,update:n.DocMerge.UpdateDropHeights});$("#img"+u+"Help").hover(function(){var n=$("#info"+u),t=$("#img"+u+"Help");n.attr("style","top: 0");n.attr("style","left: 0");n.position({my:"left bottom",at:"right top",of:t,collision:"flipfit",within:".documentGroupingConfigurationDiv"});n.stop().css("z-index",3e5).fadeIn(200)},function(){$("#info"+u).stop().fadeOut(200)})},UpdateDropHeights:function(n,t){var f,e;if(t!=undefined&&t.item[0].id.indexOf("edit")===-1){var i=t.item[0].parentNode.id,r=t.item[0].parentNode.id,u=i.indexOf("Bin");u>0?r=i.substring(0,u)+"Columns":(u=i.indexOf("Columns"),r=i.substring(0,u)+"Bin");f=$("#"+i).height();e=$("#"+r).height();f!==e&&(f>e?$("#"+r).height(f):$("#"+i).height(e))}},SetDropHeights:function(n){var t="torch"+n+"Bin",i="torch"+n+"Columns",u=$("#"+t).height(),f=$("#"+i).height(),r=Math.max(u,f);$("#"+t).height(r);$("#"+i).height(r)},DeleteProject:function(t){confirm("Click OK to confirm deletion of entire document configuration")&&(n.DocMerge.DisplayMasterLoader(!0),Spend_Management.svcDocumentMerge.DeleteMergeProject(t,n.DocMerge.DeleteProjectComplete,n.DocMerge.ErrorProjectDelete));return},ErrorProjectDelete:function(){n.DocMerge.DisplayMasterLoader(!1);n.MasterPopup.ShowMasterPopup("An error occurred while attempting to delete the document configuration. Please contact your administrator if the problem persists.","Delete Document Configuration Error");return},DeleteProjectComplete:function(t){t[1]!==""?(n.DocMerge.DisplayMasterLoader(!1),n.MasterPopup.ShowMasterPopup(t[1],"Delete document configuration")):Spend_Management.svcDocumentMerge.GetMergeProjectsGrid(n.DocMerge.GetMergeProjectsGridSuccess,n.DocMerge.GetMergeProjectsGridError);return},GetMergeProjectsGridSuccess:function(i){t(divConfigurations).innerHTML=i[1];n.Grid.UpdateGrid(i[0]);n.DocMerge.DisplayMasterLoader(!1);return},GetMergeProjectsGridError:function(){n.DocMerge.DisplayMasterLoader(!1);n.MasterPopup.ShowMasterPopup("An error occurred retrieving document configuration information. Please contact your administrator if the problem persists.","Document Configuration Error")},DefaultConfigCheckboxClick:function(){return},CallExecMerge:function(n){currentMergeProjectId=n;var t=$find(mdlMergeExec);t!==null&&t.show()},PerformMerge:function(t,i,r,u,f,e){var o,s,c,h;$("#loadingMessage").css("display","");$("#reportStatus").css("display","none");$("#divMergeProgress").html("");$("#performMergeButtons").css("display","");o=$("#reportProgress");$("#lnkDownload").remove();o!==undefined&&o!==null&&o.css("display","none");s=$("#reportPercentDone");s!==undefined&&s!==null&&s.css("display","none");(f===undefined||f===null)&&(f=-1);c="";e!==undefined&&(f=-2,c="&ct="+JSON.stringify(e));currentMergeProjectId=t;h=function(e){var o,s,h;$("#performMergeButtons").css("display","none");$("#loadingMessage").css("display","none");o=$("#reportStatus");o!==undefined&&o!==null&&o.css("display","");s=$("#reportProgress");s!==undefined&&s!==null&&s.css("display","none");h=$("#reportPercentDone");h!==undefined&&h!==null&&h.css("display","none");$("#divMergeProgress").html("");e||(e=!1);n.DocMerge.Ids.CurrentConfig!==undefined&&n.DocMerge.Ids.CurrentConfig!==null?Spend_Management.svcDocumentMerge.PerformTempDocumentMerge(t,i,r,u,n.DocMerge.Ids.CurrentConfig,e,n.DocMerge.InitMerge,n.DocMerge.OnMergeFail):Spend_Management.svcDocumentMerge.PerformDocumentMerge(t,i,r,u,f,e,n.DocMerge.InitMerge,n.DocMerge.OnMergeFail)};$("#mergeDialog").dialog({resizable:!1,modal:!0,width:485,height:205,title:"Perform Document Merge",closeOnEscape:!1,close:function(){n.Grid.refreshGrid("gridTorchAttachments",n.Grid.getCurrentPageNum("gridTorchAttachments"));$("#"+btnPerformMerge).off();$("#"+btnPerformMergeAndSave).off();$("#"+btnPerformMergeAndSave).off()},open:function(){n.DocMerge.Ids.CurrentConfig=e;$(".ui-icon-closethick").hide();$(".ui-dialog-titlebar-close").hide();$("#"+btnPerformMerge).click(function(){h.call(this)});$("#"+btnPerformMergeAndSave).click(function(){h.call(this,!0)});$("#"+btnCancelMerge).click(function(){$("#mergeDialog").dialog("close")});$(".ui-dialog-titlebar").hide()},dialogClass:"modalpanel formpanel"})},PopupWindow:function(n,t,i,r){var u=screen.width/2-i/2,f=screen.height/2-r/2;window.open(n,t,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, dependent=yes, width="+i+", height="+r+", top="+f+", left="+u)},OnMergeFail:function(t){n.MasterPopup.ShowMasterPopup("A problem occurred while attempting to perform the Torch process. "+t,"Torch");$("#mergeDialog").dialog("close");return},CancelMerge:function(){currentMergeProjectId=null;$find(mdlMergeExec).hide()},DoMerge:function(){if(n.Common.ValidateForm("valMergeOptions")===!1)return!1;var i=u(lstdocumentformat),r=t(txtemailto).value,f=t(txtemailcc).value,e=t(txtsubject).value,o=t(txtemailbody).value;return Spend_Management.svcDocumentMerge.PerformDocumentMerge(currentMergeProjectId,i,r,f,e,o,n.DocMerge.OnMergeEmailSuccess,n.DocMerge.OnMergeFail),$("#GatheringData").css("display","none"),!0},OnMergeEmailSuccess:function(){n.MasterPopup.ShowMasterPopup("Torch was successful and has been emailed to specified recipients.","Torch");return},ExportKeys:function(n){window.open(appPath+"/shared/documentMerge.aspx?mtags=1&mprj="+n,"Export_Merge_Tags","width=550,height=110,resizable=yes,scrollbars=1,status=no,menubar=no,dependent=yes")},GetMergeProgress:function(){Spend_Management.svcDocumentMerge.GetMergeStatus(currentMergeProjectId,n.DocMerge.Ids.currentMergeRequestNumber,n.DocMerge.GetStatusComplete,n.DocMerge.GetStatusError)},GetStatusError:function(n){var i=t("divMergeProgress");i!==null&&(i.innerHTML="An error ocurred while attempting to call the Torch status update<br /><br />"+n)},GetStatusComplete:function(t){var o,c;if(t!==null){var h=t[0],v=t[1],s=t[2],l=t[3],r=t[4],a=t[5],i,u,f,e;r>0?n.DocMerge.SetProgressBar(parseInt(parseInt(s)/parseInt(r)*100)):n.DocMerge.SetProgressBar(0);switch(l){case 1:i=$("#divMergeProgress");i!==undefined&&i!==null&&(s!=r?i.html("Please wait, report data is being collected...("+s+"/"+r+")"):(f=$("#reportProgress"),f!==undefined&&f!==null&&f.css("display","none"),e=$("#reportPercentDone"),e!==undefined&&e!==null&&e.css("display","none"),i.html('Report data collected, Torch is now merging. Please wait.......<img src="/shared/images/ajax-loader.gif" alt="" />')));n.DocMerge.Ids.StatusTimer=setTimeout(n.DocMerge.GetMergeProgress,500);break;case 2:n.DocMerge.Ids.CurrentConfig=null;u=$("#reportStatus");u!==undefined&&u!==null&&u.css("display","none");i=$("#divMergeProgress");i!==undefined&&i!==null&&(i.html(""),n.DocMerge.Ids.StatusTimer!==null&&clearTimeout(n.DocMerge.Ids.StatusTimer),navigator.appVersion.indexOf("MSIE 7.")===-1&&$("#mergeDialog").dialog("close"));navigator.appVersion.indexOf("MSIE 7.")!==-1?(c="<div>Torch complete.<\/div><div><br/><\/div>",o="documentMerge.aspx?mprj="+h+"&mrn="+n.DocMerge.Ids.currentMergeRequestNumber+"&mc=1",i.html(c+'<span class="buttonContainer"><a id="lnkDownload" href="'+o+'">Download<\/a><\/span>'),$("#lnkDownload").button().click(function(){$("#mergeDialog").dialog("close")})):document.location.href="documentMerge.aspx?mprj="+h+"&mrn="+n.DocMerge.Ids.currentMergeRequestNumber+"&mc=1";break;case 3:i=$("#divMergeProgress");i!==undefined&&i!==null&&(o="#",i.html('An error has occurred performing the Torch. <br/><div><br/><\/div><div style="display:none">'+a+'<\/div><span class="buttonContainer buttonInner" id="lnkDownload" href="'+o+'">Close<\/span><div style="display:none"><\/div>'));$("#lnkDownload").button().click(function(){$("#mergeDialog").dialog("close")})}$("#lnkDownload").mouseover(function(){$("#lnkDownload").removeClass("ui-state-hover")});$(".ui-button-text").removeClass("ui-button-text").addClass("buttonInner");$("#lnkDownload").removeClass("ui-state-default")}},InitMerge:function(t){var i,r;$("#loadingMessage").css("display","none");i=$("#reportProgress");i!==undefined&&i!==null&&i.css("display","");r=$("#reportPercentDone");r!==undefined&&r!==null&&r.css("display","");n.DocMerge.Ids.currentMergeRequestNumber=t;n.DocMerge.Ids.StatusTimer=setTimeout(n.DocMerge.GetMergeProgress,500)},SetProgressBar:function(n){var t=$("#reportPercentDone"),i=$("#reportDone"),r;n!="100"?(t.html(n+"%"),r=n*2.5,i.css("width",r)):(t.html(""),i.css("width",0));return},Service:function(n,t,i,r,u,f){n.endsWith("/")||(n=n+"/");var e=!1;f===undefined&&(e=!0);$.ajax({url:n+t,type:"POST",data:i,contentType:"application/json; charset=utf-8",dataType:"json",success:r,error:u,async:e})},Filters:{FilterModal:null},GetReportSources:function(t,i){var r="{ 'projectId': '"+t+"', 'groupingConfigurationId': '"+i+"' } ";this.Service(window.appPath+"/shared/webServices/SvcDocumentMerge.asmx/","GetReportSources",r,n.DocMerge.GetReportSourcesSuccess,n.Common.WebService.ErrorHandler)},GetReportSourcesSuccess:function(t){n.DocMerge.PopulateDDList($("#"+n.DocMerge.DomIDs.Config.ddlReportSource)[0],t.d,!1);$("#"+n.DocMerge.DomIDs.Config.ddlReportSource).value=0},ReportSourceSelected:function(){var t="{ 'projectId': '"+currentProjectId+"' , ";t+=" 'reportId': '"+$("#"+n.DocMerge.DomIDs.Config.ddlReportSource).val()+"' }";this.Service(window.appPath+"/shared/webServices/SvcDocumentMerge.asmx/","GetReportColumns",t,n.DocMerge.GetReportColumnsSuccess,n.Common.WebService.ErrorHandler)},GetReportColumnsSuccess:function(i){var s=n.DocMerge.DivReportSorting(),r,u,e,f,o;s.css("display","block");var h=t(n.DocMerge.DomIDs.Config.hdnReportSortingName).value,l=t(n.DocMerge.DomIDs.Config.ddlReportSource),c=n.DocMerge.GetDDLSelectedText(l);if(h!==""&&n.DocMerge.SaveReportColumsToDOM(h),t(n.DocMerge.DomIDs.Config.hdnReportSortingName).value=c,r=$(s).data(c),u=[],r!=undefined)for(e=i.d,f=0;f<e.length;f++)o=e[f],n.DocMerge.isIncludedReportCol(o,r)||u.push(o);else u=i.d;n.DocMerge.RenderControls(r,u,"SortedColumn");n.DocMerge.SetDropHeights("SortedColumn")},SwitchSort:function(n){var t=$("#"+n+">#edit_Icon");t.hasClass("up")?(t.attr("src","/shared/images/icons/16/Plain/arrow_down_blue.png"),t.removeClass("up"),t.addClass("down")):(t.attr("src","/shared/images/icons/16/Plain/arrow_up_blue.png"),t.removeClass("down"),t.addClass("up"))},RemoveUpDown:function(n,t){var r,i;t.item[0].id.indexOf("edit")===-1&&(r=t.item[0].parentElement.id,t.item[0].id!==""&&r.indexOf("Bin")!==-1&&(i=$("#"+t.item[0].id+">#edit_Icon"),(i.hasClass("up")||i.hasClass("down"))&&(i.attr("src","/static/icons/Custom/HandleBar.png"),i.attr("title","Click here to drag this field"),i.removeClass("up"))))},EditMerge:function(t,i){var u,r;n.DocMerge.Ids.CurrentId=t;currentProjectId=t;n.DocMerge.Ids.CurrentDocumentId=i;u=1+n.Common.GetHighestZIndexInt();n.DocMerge.Ids.PopupMode="true";$(".dialogHolder").dialog({title:"Merge Configurations",zIndex:u,autoOpen:!1,modal:!0,width:910,height:520,closeOnEscape:!0,draggable:!1,resizable:!1,open:function(){Spend_Management.svcDocumentMerge.GetDocumentGroupingConfigurationsGrid(n.DocMerge.Ids.CurrentId,n.DocMerge.Ids.CurrentDocumentId,ceID,entityId,"true",n.DocMerge.OnGetProjectDocConfigsGridComplete,n.DocMerge.OnGetProjectDocConfigsGridError);Spend_Management.svcDocumentMerge.GetProject(n.DocMerge.Ids.CurrentId,n.DocMerge.OnGetProjectComplete,n.DocMerge.OnGetProjectDocConfigsGridError)}});r=$(".dialogHolder");r.dialog("option","dialogClass","modalpanel");r.dialog("option","dialogClass","formpanel");$(".ui-dialog-titlebar").hide();$(".ui-dialog>.ui-dialog-content>.ajax__tab_container>.ajax__tab_body").css("height","370px");r.dialog("open")},OnGetProjectDocConfigsGrid2Complete:function(t){$(".dialogHolder>form>.docGroupingConfigs").html(t[2]);n.Grid.updateGrid(t[1]);n.DocMerge.DisplayMasterLoader(!1);return},OnGetProjectComplete:function(t){$("#"+txtProjectName).val(t.MergeProjectName);$("#"+txtProjectDescription).val(t.MergeProjectDescription);$("#"+n.DocMerge.DomIDs.Config.hdnDefaultDocumentGroupingId).val(t.DefaultDocumentGroupingConfigId);$(".blankText").val(t.BlankTableText)},MergeCurrentConfig:function(){var t=n.DocMerge.SaveConfiguration(!0);n.DocMerge.PerformMerge(t.MergeProjectId,n.DocMerge.Ids.CurrentDocumentId,ceID,entityId,t.GroupingConfigurationId,t);n.DocMerge.CancelGroupingConfiguration()}}}window.Sys&&window.Sys.loader?window.Sys.loader.registerScript("DocMerge",null,f):f()})(SEL,$g,$f,$e,$ddlValue);
//# sourceMappingURL=sel.docMerge.min.js.map
