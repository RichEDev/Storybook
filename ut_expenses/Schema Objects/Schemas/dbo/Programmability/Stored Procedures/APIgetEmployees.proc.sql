CREATE PROCEDURE [dbo].[APIgetEmployees]
	@employeeid  int
AS	
if	@employeeid > 0
Begin
		SELECT [employeeid]
      ,[username]
      ,[password]
      ,[title]
      ,[firstname]
      ,[surname]
      ,[mileagetotal]
      ,[email]
      ,[currefnum]
      ,[curclaimno]
      ,[speedo]
      ,[payroll]
      ,[position]
      ,[telno]
      ,[creditor]
      ,[archived]
      ,[groupid]
      ,[roleid]
      ,[hint]
      ,[lastchange]
      ,[additems]
      ,[cardnum]
      ,[userole]
      ,[costcodeid]
      ,[departmentid]
      ,[extension]
      ,[pagerno]
      ,[mobileno]
      ,[faxno]
      ,[homeemail]
      ,[linemanager]
      ,[advancegroupid]
      ,[mileage]
      ,[mileageprev]
      ,[customiseditems]
      ,[active]
      ,[primarycountry]
      ,[primarycurrency]
      ,[verified]
      ,[licenceexpiry]
      ,[licencelastchecked]
      ,[licencecheckedby]
      ,[licencenumber]
      ,[groupidcc]
      ,[groupidpc]
      ,[CreatedOn]
      ,[CreatedBy]
      ,[ModifiedOn]
      ,[ModifiedBy]
      ,[country]
      ,[ninumber]
      ,[maidenname]
      ,[middlenames]
      ,[gender]
      ,[dateofbirth]
      ,[hiredate]
      ,[terminationdate]
      ,[homelocationid]
      ,[officelocationid]
      ,[applicantnumber]
      ,[applicantactivestatusflag]
      ,[passwordMethod]
      ,[name]
      ,[accountnumber]
      ,[accounttype]
      ,[sortcode]
      ,[reference]
      ,[localeID]
      ,[NHSTrustID]
      ,[logonCount]
      ,[retryCount]
      ,[firstLogon]
      ,[licenceAttachID]
      ,[defaultSubAccountId]
      ,[CacheExpiry]
      ,[supportPortalAccountID]
      ,[supportPortalPassword]
      ,[CreationMethod]
      ,[mileagetotaldate]
      ,[adminonly]
      ,[locked]
      ,[ESRPersonId]
	  ,[PreferredName]
	  ,[EmployeeNumber]
	  ,[NHSUniqueId]
	  ,[ESRPersonType]
	  ,[ESREffectiveStartDate]
	  ,[ESREffectiveEndDate]
  FROM [dbo].[employees]
  WHERE employeeid = @employeeid
 End
Else
	Begin
		SELECT [employeeid]
      ,[username]
      ,[password]
      ,[title]
      ,[firstname]
      ,[surname]
      ,[mileagetotal]
      ,[email]
      ,[currefnum]
      ,[curclaimno]
      ,[speedo]
      ,[payroll]
      ,[position]
      ,[telno]
      ,[creditor]
      ,[archived]
      ,[groupid]
      ,[roleid]
      ,[hint]
      ,[lastchange]
      ,[additems]
      ,[cardnum]
      ,[userole]
      ,[costcodeid]
      ,[departmentid]
      ,[extension]
      ,[pagerno]
      ,[mobileno]
      ,[faxno]
      ,[homeemail]
      ,[linemanager]
      ,[advancegroupid]
      ,[mileage]
      ,[mileageprev]
      ,[customiseditems]
      ,[active]
      ,[primarycountry]
      ,[primarycurrency]
      ,[verified]
      ,[licenceexpiry]
      ,[licencelastchecked]
      ,[licencecheckedby]
      ,[licencenumber]
      ,[groupidcc]
      ,[groupidpc]
      ,[CreatedOn]
      ,[CreatedBy]
      ,[ModifiedOn]
      ,[ModifiedBy]
      ,[country]
      ,[ninumber]
      ,[maidenname]
      ,[middlenames]
      ,[gender]
      ,[dateofbirth]
      ,[hiredate]
      ,[terminationdate]
      ,[homelocationid]
      ,[officelocationid]
      ,[applicantnumber]
      ,[applicantactivestatusflag]
      ,[passwordMethod]
      ,[name]
      ,[accountnumber]
      ,[accounttype]
      ,[sortcode]
      ,[reference]
      ,[localeID]
      ,[NHSTrustID]
      ,[logonCount]
      ,[retryCount]
      ,[firstLogon]
      ,[licenceAttachID]
      ,[defaultSubAccountId]
      ,[CacheExpiry]
      ,[supportPortalAccountID]
      ,[supportPortalPassword]
      ,[CreationMethod]
      ,[mileagetotaldate]
      ,[adminonly]
      ,[locked]
      ,[ESRPersonId]
	  ,[PreferredName]
	  ,[EmployeeNumber]
	  ,[NHSUniqueId]
	  ,[ESRPersonType]
	  ,[ESREffectiveStartDate]
      ,[ESREffectiveEndDate]
  FROM [dbo].[employees]
	End